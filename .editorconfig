root = true

[*]
end_of_line = lf
charset = utf-8

[*.{cs,vb}]
insert_final_newline = true
indent_style = space
indent_size = 4
trim_trailing_whitespace = true

# C# code style
[*.cs]
dotnet_style_qualification_for_field = true:suggestion
dotnet_style_qualification_for_property = true:suggestion
dotnet_style_qualification_for_method = true:suggestion
dotnet_style_qualification_for_event = true:suggestion
dotnet_style_require_accessibility_modifiers = for_non_interface_members:error
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = true:suggestion
csharp_prefer_braces = when_multiline:error
csharp_prefer_switch_expression = true:suggestion
csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = when_on_single_line:suggestion
csharp_style_prefer_null_check_over_type_check = true:suggestion
csharp_style_prefer_pattern_matching = true:suggestion

# Nullable flow analysis: treat nullable diagnostics as warnings (then elevate in build)
dotnet_diagnostic.CS8600.severity = warning
dotnet_diagnostic.CS8602.severity = warning
dotnet_diagnostic.CS8603.severity = warning
dotnet_diagnostic.CS8618.severity = warning

# Common analyzer rules - elevate to error for strictness
dotnet_analyzer_diagnostic.category-Style.severity = warning
dotnet_analyzer_diagnostic.category-Security.severity = error
dotnet_analyzer_diagnostic.category-Reliability.severity = error
dotnet_analyzer_diagnostic.category-Usage.severity = error
dotnet_analyzer_diagnostic.category-Design.severity = warning
dotnet_analyzer_diagnostic.category-Naming.severity = warning

# Files to ignore trimming whitespace (e.g., snapshots)
[*.{snap,md}]
trim_trailing_whitespace = false
